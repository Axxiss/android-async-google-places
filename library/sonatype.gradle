def publishingGroup = 'Publishing'

def isSnapshot = version.contains("SNAPSHOT")

def repositoryUrl = isSnapshot ?
        'https://oss.sonatype.org/content/repositories/snapshots/' :
        'https://oss.sonatype.org/service/local/staging/deploy/maven2';




uploadArchives {
    repositories {
        mavenDeployer {
            repository url: 'file://' + new File(System.getProperty('user.home'), '.m2/repository').absolutePath
            pom.artifactId = 'async-google-places'
        }
    }
}

task publishToMavenLocal(dependsOn: uploadArchives) {
    description 'Publish the artifact to Maven Local repository.'
    group publishingGroup
}

task publishToMavenCentral(dependsOn: uploadArchives) {
    description 'Publish the artifact to Maven Central repository.'
    group publishingGroup
}

/**
 * Artifacts
 */
//

//
//
//signing {
//    sign configurations.archives
//}
//
//uploadArchives {
//    repositories.mavenDeployer {
//        configuration = configurations.archives
//
////        beforeDeployment { MavenDeployment deployment -> signing.signPom(deployment) }
//
//        repository(url: mavenCentralRepo) {
//            authentication(userName: sonatypeUser, password: sonatypePass)
//        }
//
//
//        pom.project {
//            name 'Android Async Google Places API'
//            description 'Android lib for accessing Google Places API asynchronously'
//            url 'https://github.com/Axxiss/android-async-google-places'
//            inceptionYear '2013'
//
//            scm {
//                url 'https://github.com/Axxiss/android-async-google-places'
//                connection 'scm:git:git://github.com/Axxiss/android-async-google-places.git'
//                developerConnection 'scm:git:ssh:git@github.com:Axxiss/android-async-google-places.git'
//            }
//
//            licenses {
//                license {
//                    name 'The Apache Software License, Version 2.0'
//                    url 'http://www.apache.org/licenses/LICENSE-2.0.txt'
//                    distribution 'repo'
//                }
//            }
//
//            developers {
//                developer {
//                    id 'Axxiss'
//                    name 'Alexis Mas'
//                    email 'alexismas@about.me'
//                }
//            }
//        }
//    }
//}


